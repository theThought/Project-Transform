@use 'globals';

.a-icon-multistate {
    display: inline-block;
    width: 1em;
    height: 1em;
    background-position-x: -144px;
}

.m-option-base .a-icon-multistate {
    position: absolute;
    top: .1em;
    left: 0;
}

// specifically moves radio buttons 1px to the left to resolve image cropping on certain platforms
.a-icon-multistate[data-icontype="single"] {
    left: 1px;
}

/* Grid layout */
.m-structure-cell .m-option-base .a-icon-multistate {
    position: relative;
    top: .2em;
}

input[type=checkbox] + label > .a-icon-multistate {
    background-image: url("/Survey/images/checkbox-3.png");
}

input[type=radio] + label > .a-icon-multistate {
    background-image: url("/Survey/images/radiobutton-3.png");
}

input[type=checkbox]:checked + label > .a-icon-multistate,
input[type=radio]:checked + label > .a-icon-multistate {
    background-position-x: 0;
}

input[type=checkbox]:focus + label,
input[type=radio]:focus + label,
input[type=radio]:focus-visible + label,
input[type=radio]:focus-within + label,
input[type=checkbox]:focus-visible + label,
input[type=checkbox]:focus-within + label {
    outline: 1px solid globals.$labels;
}

input[type=checkbox]:disabled + label > .a-icon-multistate,
input[type=radio]:disabled + label > .a-icon-multistate,
div[data-readonly="true"] input[type=checkbox] + label > .a-icon-multistate,
div[data-readonly="true"] input[type=radio] + label > .a-icon-multistate {
    background-position-x: -288px;
}

input[type=checkbox]:disabled:checked + label > .a-icon-multistate,
input[type=radio]:disabled:checked + label > .a-icon-multistate,
div[data-readonly="true"] input[type=checkbox]:checked + label > .a-icon-multistate,
div[data-readonly="true"] input[type=radio]:checked + label > .a-icon-multistate {
    background-position: -428px;
}

// option lists will not show icons by default
div.o-question-list:not(.display-icons) .m-list-optionlist .a-icon-multistate {
    display: none;
}

// option lists should not display a focus outline
.m-list-optionlist {
    input:focus + label,
    input:focus-visible + label {
        outline: none;
    }

    .a-icon-multistate {
        left: -2px;
    }
}